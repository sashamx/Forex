<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />

    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *" /> -->


    <title>Hello World</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,400i,700,700i" rel="stylesheet">
    <link rel='stylesheet' href='css/style.css' type='text/css' />
    <link rel='stylesheet' href='css/fontawesome-all.css' type='text/css' />
    <script src="jquery.js"></script>

</head>

<body>
    <div class="top">
        <!--div class="but_bars"><a href="#second"><i class="fas fa-bars"></i></a></div -->
        <div class="title_top">FX Best Signal</div>
    </div>

    <div class="content">



    </div>

    <script type="text/javascript" src="cordova.js"></script>


</body>
<script>
    document.addEventListener("deviceready", onDeviceReady, false);

    // PhoneGap is loaded and it is now safe to make calls PhoneGap methods
    //


    function onDeviceReady() {

        var heightbody = $('body').height();
        $('.content').height(heightbody-144);

        $.ajax({
            type: 'GET',
            url: 'http://trade.view-investor.ru/sample-page',
            success: function(response) {

                $('.content').html(response);
                $('.signal_time').each(function() {
                    var $this = $(this);
                    // получим дату из строкового представления
                    var date = new Date($this.data('date'));
                    // можно показывать и только время; см. функции
                    // date.toLocaleDateString() и date.toLocaleTimeString()
                    $this.html(date.toLocaleString());
                    $this.attr('title', $this.data('date'));
                });

            },
            error: function(e) {
                alert('Error: ' + e.message);
            }
        });

        function func() {
            $.ajax({
                type: 'GET',
                url: 'http://trade.view-investor.ru/sample-page',
                success: function(response) {

                    $('.content').html(response);
                    $('.signal_time').each(function() {
                        var $this = $(this);
                        // получим дату из строкового представления
                        var date = new Date($this.data('date'));
                        // можно показывать и только время; см. функции
                        // date.toLocaleDateString() и date.toLocaleTimeString()
                        $this.html(date.toLocaleString());
                        $this.attr('title', $this.data('date'));
                    });

                }
            });
        }

        setInterval(func, 1000);
    }
</script>
</html>